# ุฎุทุฉ ูุดุฑูุน ููุญุฉ ุฅุฏุงุฑุฉ ุงูุจุทุงูุงุช

ุชูุฏู ูุฐู ุงูุฎุทุฉ ุฅูู ุจูุงุก ููุญุฉ ุชุญูู ูุชูุงููุฉ ุจุงุณุชุฎุฏุงู React Admin ู Supabase ูุฅุฏุงุฑุฉ ุจุทุงูุงุช ุงูุณุงุฆููู (Driver Cards) ูุจุทุงูุงุช ุงูุชุดุบูู (Operation Cards) ุจูุงุกู ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฑููุฉุ ูุฐูู ุจุงุณุชุฎุฏุงู ุงููููุฐุฌ ุงูุฌุงูุฒ ูู React Admin: https://marmelab.com/react-admin-demo/ุ ูุน ุชุนุฏูู ุจุณูุท ููุชูุงุณุจ ูุน ูุชุทูุจุงุช ุงููุดุฑูุน. ูุง ูุญุชุงุฌ ูุชูุนูู ุณุฌู ุงูุฃุญุฏุงุซ Audit Trail.

---

## 1. ุฅุนุฏุงุฏ ุงูุจูุฆุฉ ูุงูุชูููุงุช

### ุชููุฆุฉ ุงููุดุฑูุน
- ุฅูุดุงุก ุชุทุจูู React Admin Vite (ุฃู CRA).
- ุชุซุจูุช ุงูุญุฒู ุงูุฃุณุงุณูุฉ:

```bash
npm install react-admin @mui/material @emotion/react @emotion/styled
npm install @supabase/supabase-js
npm install ra-wizard-form react-hook-form dayjs
```

### Supabase
- ุฑูุน ุงูุฌุฏุงูู ุงููุทููุจุฉ ุฅูู Supabase (ููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฌูุฏ ูู `/db/schema.sql`).
- ุฅุนุฏุงุฏ Supabase Auth (ูููุณุชุฎุฏููู) + Supabase client.js.
- ุฅุนุฏุงุฏ Supabase Data Provider
  - ูููู ุงุณุชุฎุฏุงู ูุฒูุฏ ุฌุงูุฒ ุฃู ุชุฎุตูุต ูุฒูุฏ ุจุณูุท ุจุงุณุชุฎุฏุงู Supabase client.

---

## 2. ุชุตููู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ูุฑุฌุน ูุฎุชุตุฑ)

- OPC_Facility: ููุดุขุช ุงูุชุดุบูู (ูุน ุฑูู ุงูุชุฑุฎูุตุ ุงูุงุณูุ ููุน ุงูุฌูุฉ ุงููุตุฏุฑุฉุ ุชุงุฑูุฎ ุงูุงูุชูุงุก...).
- OPC_LicenseType: ุฃููุงุน ุงูุชุฑุฎูุต (ุชุฑุฎูุต ุจูุฏูุ ูููุ ุฅูุฎ).
- OPC_Driver: ุงูุณุงุฆููู.
- OPC_DriverCard: ุจุทุงูุฉ ุงูุณุงุฆููู (ุชุฑุจุท ุจูู ุงูุณุงุฆู ูุงูููุดุฃุฉ) ูุชุญุชูู ุนูู (cardtype, cardtypeID, issueDate, expirationDate, supplier).
- OPC_Supplier: ุงูููุฑุฏูู.

---

## 3. ูุฎุทุท ุงููุงุฌูุฉ ูุชุฌุฑุจุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุงูุชุตููู ุงูุนุงู
- ุงุณุชุฎุฏุงู ุฎุท "Segoe UI", Tahoma, sans-serif.
- RTL ูุงูู ุนุจุฑ MUI Theme (direction: rtl).
- ุงูุงุนุชูุงุฏ ุนูู ุชุตููู ูุธูู ุจุงุณุชุฎุฏุงู MUI's Flexbox/Grid.
- ุชุนุฏูู React Admin layout ููุดูู ุตูุญุฉ Wizard ูููุตูุฉ ูู 3 ููุงูุงุช (Drivers, Facilities, Driver Cards, Operation Cards).

### 2. ุงููุงุฌูุฉ ุงูุนุงูุฉ
- ููุญุฉ ุฑุฆูุณูุฉ (Dashboard).
- ุตูุญุฉ Wizard: ูุฎุตุต ููุนูููุฉ ุงูููุฌูุฉ ูุฅุถุงูุฉ ุจุทุงูุฉ.
- ุงุณุชุฎุฏุงู Theme ูุฎุตุต ุฏุงุฎู `src/muiTheme`.

---

## 4. ุงูููุงุฐุฌ (Forms)

- RA ูุง ูุฏุนู react-hook-form ูู ุฌููุน ุงูููุงุฐุฌ ุจุดูู ูุจุงุดุฑุ ููู ูููู ุงุณุชุฎุฏุงูู ูู `<SimpleForm>`, `<TextInput>` ...
- ุงุณุชุฎุฏู ุฅุฏุฎุงู ูุฑุฌุนู (ReferenceInput) ูุงุฎุชูุงุฑ `cardtypeID`, `licenseTypeID`, `supplierID` ูู ุฌุฏุงูู ุงููุฑุฌุนูุฉ ุงููุฑุชุจุทุฉ ุนุจุฑ Supabase Dropdown.
- ุชูุงุฑูุฎ ูุฌุฑู ูุชู ุฅุฏุฎุงููุง ููุต (TextInput) ุจุตูุบุฉ `"1446-01-01"`ุ ุจุฏูู DatePicker.
- ูุง ุญุงุฌุฉ ูุชูุนูู Audit Trail ูู ุฃู ูููุฐุฌ.

---

## 5. ุฎุทูุงุช ุงูู Wizard (ra-wizard-form ุฃู MUI Stepper)

### ุงูุฎุทูุฉ 1: ุงูุชุญูู ุฃู ุฅูุดุงุก ุงูููุดุฃุฉ
1. ูุฏุฎู ุงููุณุชุฎุฏู ุฑูู ูููุฉ ุงูููุดุฃุฉ ุฃู ุฑูู ุงูุชุฑุฎูุต.
2. ูุชู ุงูุจุญุซ ุนู ุงูููุดุฃุฉ ูู Supabase ุนุจุฑ:
   - ุฅูุง FacilityID ุฃู LicenseNumber.
3. ุฅุฐุง ููุฌุฏุช โ ุงูุงูุชูุงู ููุฎุทูุฉ ุงูุชุงููุฉ ูู Wizard.
4. ุฅุฐุง ูู ุชูุฌุฏ โ ูุชุญ ูููุฐุฌ ูุฅุฏุฎุงู ุจูุงูุงุช ุงูููุดุฃุฉ (ุงุณู ุงูููุดุฃุฉุ ุฌูุฉ ุงูุชุฑุฎูุตุ LicenseNumber, LicenseExpirationDate ...).

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ุฃู ุฅูุดุงุก ุงูุณุงุฆู

1. ุฅุฏุฎุงู ุฑูู ุงููููุฉ ููุณุงุฆู.
2. ูุชู ุงูุจุญุซ ูู ุฌุฏูู OPC_Driver.
3. ุฅุฐุง ูู ููุฌุฏ โ ูุชุญ ูููุฐุฌ ุฅุฏุฎุงู (FirstName, LastName, IdentityNumber, FacilityID ...).
4. ุฅุฐุง ููุฌุฏ โ ุงูุงูุชูุงู ููุฎุทูุฉ ุงูุชุงููุฉ.

### ุงูุฎุทูุฉ 3: ุฅุตุฏุงุฑ ุจุทุงูุฉ ุงูุณุงุฆู

1. ูููุฐุฌ ุงูุจุทุงูุฉ:
   - CardType (ุจุทุงูุฉ ูููุ ุฅูุฎ).
   - ุงูุชุงุฑูุฎ ุงููุฌุฑู (IssueDate, ExpirationDate).
   - DriverID (ุชู ุฑุจุทู ูู ุงูุฎุทูุฉ ุงูุณุงุจูุฉ).
   - Supplier, LicenseType (dropdown).
2. ุฑุจุท ุงูุจุทุงูุฉ ุจุงูุณุงุฆู ูุงูููุดุฃุฉ ุงูุชู ุชู ุฅุฏุฎุงูููุง ูู ุงูุฎุทูุงุช ุงูุณุงุจูุฉ.

### ุงูุฎุทูุฉ 4 (ุงุฎุชูุงุฑูุฉ): ุฅุตุฏุงุฑ ุจุทุงูุฉ ุชุดุบูู

1. ููุณ ููุทู ุงูุฎุทูุฉ ุงูุณุงุจูุฉุ ูุน ุจูุงูุงุช ุฅุถุงููุฉ:
   - VehicleID (ูู ุฌุฏูู OPC_Vehicle ุงููุฑุชุจุท ุจุงูููุดุฃุฉ).
   - SupplierID (ูู ุฌุฏูู ุงูููุฑุฏูู).
2. ูููู ุงุณุชููุงููุง ูุงุญููุง ุฃู ุฌุนููุง ุงุฎุชูุงุฑูุฉ ูู ููุงูุฉ ุงูู Wizard.

---

## 6. ููุงุฑุฏ React Admin

1. Facility Resource
   - ูุงุฆูุฉ ุนุฑุถุ ุชุญุฑูุฑุ ุฅูุดุงุก.
2. Driver Resource
   - ูุงุฆูุฉ ุนุฑุถุ ุชุญุฑูุฑุ ุฅูุดุงุก.
3. DriverCard Resource
   - ูุงุฆูุฉ ุนุฑุถุ ุฅูุดุงุก Wizard ููุท.
4. OperationCard Resource
   - ุงุฎุชูุงุฑูุฉ (ููุณ ููุทู DriverCard).
5. Reference pages
   - licenseType, supplier, Vehicle ููุฑุงุฌุน ููุท ูุฃุฌู ุงูููุงุฆู ุงููุณูุฏุฉ.

---

## 7. ุงูุนูู ุงููุชุจูู

1. Wizard Data Provider (Supabase).
2. ุงูุชุญูู ูู ุงูุนูุงูุงุช.
3. ุฅุนุฏุงุฏ RTL ูุฎุตุต ููู Theme.
4. ุจุนุฏ ุงูุงูุชูุงุก ูุชู ูุดุฑ ุงููุดุฑูุน ุนูู (Vercel, Netlify...) ุจุนุฏ ุฑุจุทู ูุน Supabase.

๐ ูุชู ุญูุธ ุงููุดุฑูุน ูุงููุงู ูุน ุฎุทุฉ ุงูุชุทููุฑ ุฏุงุฎู `/docs/plan.md` ูุน ูุฐู ุงูุฎุทุฉ ูู ุงูููู.
